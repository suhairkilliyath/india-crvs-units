<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8' />
	<title>Registration Units</title>
	<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.4.1/mapbox-gl.css' rel='stylesheet' />
	<style>
		body { margin: 0; padding: 0; }
		#map { position: absolute; top: 0; bottom: 0; width: 100%; }
		.toggle { position: absolute; top: 10px; left: 10px; z-index: 1; }
	</style>
</head>
<body>
	<div id='map'></div>
	<div class='toggle'>
		<input id='rj-districts-cvu7zr' type='checkbox' checked>
		<label for='rj-districts-cvu7zr'>Districts</label>
		<input id='suhairkk.2mkggpex' type='checkbox' checked>
		<label for='suhairkk.2mkggpex'>GMAPS Units</label>
		<input id='traced-units-0cngfu' type='checkbox' checked>
		<label for='traced-units-0cngfu'>CRVS Units</label>
	</div>

	<script>
		mapboxgl.accessToken = 'pk.eyJ1Ijoic3VoYWlya2siLCJhIjoiY2xna3JrcG5mMDJ3ejNlcWlhc3lzem53MCJ9.DRGs8WHcQgcy68JAwuKIlA';
		var map = new mapboxgl.Map({
			container: 'map',
			style: 'mapbox://styles/suhairkk/clgkrlzq3008d01pcgjozhb8m', // replace with your style ID
			center: [73.8567, 20.5937], // replace with your desired center coordinates
			zoom: 4 // replace with your desired zoom level
		});

		// listen for changes to the toggle inputs
		var layer1Toggle = document.getElementById('rj-districts-cvu7zr');
		layer1Toggle.addEventListener('change', function() {
			var visibility = this.checked ? 'visible' : 'none';
			map.setLayoutProperty('rj-districts-cvu7zr', 'visibility', visibility);
		});

		var layer2Toggle = document.getElementById('suhairkk.2mkggpex');
		layer2Toggle.addEventListener('change', function() {
			var visibility = this.checked ? 'visible' : 'none';
			map.setLayoutProperty('suhairkk.2mkggpex', 'visibility', visibility);
		});

		var layer3Toggle = document.getElementById('traced-units-0cngfu');
		layer3Toggle.addEventListener('change', function() {
			var visibility = this.checked ? 'visible' : 'none';
			map.setLayoutProperty('traced-units-0cngfu', 'visibility', visibility);
		});
		
		// Add a function to update the map view when layer visibility changes
		function updateMap() {
		    var layers = ['rj-districts-cvu7zr', 'suhairkk.2mkggpex', 'ltraced-units-0cngfu'];
		    var visibleLayers = [];
		    for (var i = 0; i < layers.length; i++) {
			if (document.getElementById(layers[i]).checked) {
			    visibleLayers.push(layers[i]);
			}
		    }
		    map.setLayoutProperty('rj-districts-cvu7zr', 'visibility', visibleLayers.indexOf('rj-districts-cvu7zr') !== -1 ? 'visible' : 'none');
		    map.setLayoutProperty('suhairkk.2mkggpex', 'visibility', visibleLayers.indexOf('suhairkk.2mkggpex') !== -1 ? 'visible' : 'none');
		    map.setLayoutProperty('traced-units-0cngfu', 'visibility', visibleLayers.indexOf('traced-units-0cngfu') !== -1 ? 'visible' : 'none');
		}

		// Attach the updateMap function to the checkboxes
		document.getElementById('rj-districts-cvu7zr').addEventListener('change', updateMap);
		document.getElementById('suhairkk.2mkggpex').addEventListener('change', updateMap);
		document.getElementById('traced-units-0cngfu').addEventListener('change', updateMap);
	</script>
</body>
</html>
